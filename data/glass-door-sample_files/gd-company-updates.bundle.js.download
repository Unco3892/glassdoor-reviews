!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=34)}([function(e,t){e.exports=React},function(e,t){e.exports=PropTypes},function(e,t){e.exports=GD.i18n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},function(e,t,n){var a=n(28);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},function(e,t,n){var a=n(29),r=n(3);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}},function(e,t){e.exports=classNames},function(e,t,n){var a=n(30);e.exports=function(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t){e.exports=Redux},function(e,t){e.exports=ReactRedux},function(e,t,n){var a=n(24),r=n(25),o=n(26),i=n(27);e.exports=function(e){return a(e)||r(e)||o(e)||i()}},function(e,t,n){e.exports=n(31)},function(e,t){e.exports=GD.util},function(e,t,n){n(32),e.exports=self.fetch.bind(self)},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=ReduxThunk},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="none" stroke="#0D0D0D" stroke-width="2" d="M13.93 25.9c1.83-5.23 3.05-6.53 8.55-11.06S25.85 1.9 29.82 1.9s3.16 6.72 2 10c-.92 2.59-2 4-2 6a4.29 4.29 0 0 0 4 4h5.94A4.84 4.84 0 0 1 43 23.44l1.78 2.15a6 6 0 0 1 1 5.16L42 42.1a5.89 5.89 0 0 1-5.26 3.8H14.36a.45.45 0 0 1-.44-.46V25.9zM2 26.56a.66.66 0 0 1 .65-.66H9.3a.66.66 0 0 1 .65.66v18.67a.67.67 0 0 1-.65.67H2.65a.66.66 0 0 1-.65-.67z"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=c(o),l=c(n(1)),s=c(n(33));function c(e){return e&&e.__esModule?e:{default:e}}var u=["dragMode","aspectRatio","data","crop","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRation","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","zoom"],d=u.slice(4),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=Object.keys(this.props).filter((function(e){return-1!==u.indexOf(e)})).reduce((function(t,n){return a({},t,(r={},o=n,i=e.props[n],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r));var r,o,i}),{});this.cropper=new s.default(this.img,t)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.src!==this.props.src&&this.cropper.reset().clear().replace(e.src),e.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(e.aspectRatio),e.data!==this.props.data&&this.setData(e.data),e.dragMode!==this.props.dragMode&&this.setDragMode(e.dragMode),e.cropBoxData!==this.props.cropBoxData&&this.setCropBoxData(e.cropBoxData),e.canvasData!==this.props.canvasData&&this.setCanvasData(e.canvasData),e.moveTo!==this.props.moveTo&&(e.moveTo.length>1?this.moveTo(e.moveTo[0],e.moveTo[1]):this.moveTo(e.moveTo[0])),e.zoomTo!==this.props.zoomTo&&this.zoomTo(e.zoomTo),e.rotateTo!==this.props.rotateTo&&this.rotateTo(e.rotateTo),e.scaleX!==this.props.scaleX&&this.scaleX(e.scaleX),e.scaleY!==this.props.scaleY&&this.scaleY(e.scaleY),e.enable!==this.props.enable&&(e.enable?this.enable():this.disable()),Object.keys(e).forEach((function(n){if(e[n]!==t.props[n]&&-1!==d.indexOf(n))throw new Error("prop: "+n+" can't be change after componentDidMount")}))}},{key:"componentWillUnmount",value:function(){this.img&&(this.cropper.destroy(),delete this.img,delete this.cropper)}},{key:"setDragMode",value:function(e){return this.cropper.setDragMode(e)}},{key:"setAspectRatio",value:function(e){return this.cropper.setAspectRatio(e)}},{key:"getCroppedCanvas",value:function(e){return this.cropper.getCroppedCanvas(e)}},{key:"setCropBoxData",value:function(e){return this.cropper.setCropBoxData(e)}},{key:"getCropBoxData",value:function(){return this.cropper.getCropBoxData()}},{key:"setCanvasData",value:function(e){return this.cropper.setCanvasData(e)}},{key:"getCanvasData",value:function(){return this.cropper.getCanvasData()}},{key:"getImageData",value:function(){return this.cropper.getImageData()}},{key:"getContainerData",value:function(){return this.cropper.getContainerData()}},{key:"setData",value:function(e){return this.cropper.setData(e)}},{key:"getData",value:function(e){return this.cropper.getData(e)}},{key:"crop",value:function(){return this.cropper.crop()}},{key:"move",value:function(e,t){return this.cropper.move(e,t)}},{key:"moveTo",value:function(e,t){return this.cropper.moveTo(e,t)}},{key:"zoom",value:function(e){return this.cropper.zoom(e)}},{key:"zoomTo",value:function(e){return this.cropper.zoomTo(e)}},{key:"rotate",value:function(e){return this.cropper.rotate(e)}},{key:"rotateTo",value:function(e){return this.cropper.rotateTo(e)}},{key:"enable",value:function(){return this.cropper.enable()}},{key:"disable",value:function(){return this.cropper.disable()}},{key:"reset",value:function(){return this.cropper.reset()}},{key:"clear",value:function(){return this.cropper.clear()}},{key:"replace",value:function(e,t){return this.cropper.replace(e,t)}},{key:"scale",value:function(e,t){return this.cropper.scale(e,t)}},{key:"scaleX",value:function(e){return this.cropper.scaleX(e)}},{key:"scaleY",value:function(e){return this.cropper.scaleY(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,a=t.alt,r=t.crossOrigin;return i.default.createElement("div",{src:null,crossOrigin:null,alt:null,style:this.props.style,className:this.props.className},i.default.createElement("img",{crossOrigin:r,ref:function(t){e.img=t},src:n,alt:void 0===a?"picture":a,style:{opacity:0}}))}}]),t}();p.propTypes={style:l.default.object,className:l.default.string,crossOrigin:l.default.string,src:l.default.string,alt:l.default.string,aspectRatio:l.default.number,dragMode:l.default.oneOf(["crop","move","none"]),data:l.default.shape({x:l.default.number,y:l.default.number,width:l.default.number,height:l.default.number,rotate:l.default.number,scaleX:l.default.number,scaleY:l.default.number}),scaleX:l.default.number,scaleY:l.default.number,enable:l.default.bool,cropBoxData:l.default.shape({left:l.default.number,top:l.default.number,width:l.default.number,height:l.default.number}),canvasData:l.default.shape({left:l.default.number,top:l.default.number,width:l.default.number,height:l.default.number}),zoomTo:l.default.number,moveTo:l.default.arrayOf(l.default.number),rotateTo:l.default.number,viewMode:l.default.oneOf([0,1,2,3]),preview:l.default.string,responsive:l.default.bool,restore:l.default.bool,checkCrossOrigin:l.default.bool,checkOrientation:l.default.bool,modal:l.default.bool,guides:l.default.bool,center:l.default.bool,highlight:l.default.bool,background:l.default.bool,autoCrop:l.default.bool,autoCropArea:l.default.number,movable:l.default.bool,rotatable:l.default.bool,scalable:l.default.bool,zoomable:l.default.bool,zoomOnTouch:l.default.bool,zoomOnWheel:l.default.bool,wheelZoomRation:l.default.number,cropBoxMovable:l.default.bool,cropBoxResizable:l.default.bool,toggleDragModeOnDblclick:l.default.bool,minContainerWidth:l.default.number,minContainerHeight:l.default.number,minCanvasWidth:l.default.number,minCanvasHeight:l.default.number,minCropBoxWidth:l.default.number,minCropBoxHeight:l.default.number,ready:l.default.func,cropstart:l.default.func,cropmove:l.default.func,cropend:l.default.func,crop:l.default.func,zoom:l.default.func},p.defaultProps={src:null,dragMode:"crop",data:null,scaleX:1,scaleY:1,enable:!0,zoomTo:1,rotateTo:0},t.default=p},function(e,t,n){var a=n(18);e.exports=function(e){if(Array.isArray(e))return a(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var a=n(18);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(1)),o=l(n(0)),i=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:n.props.open},n.closeHandler=n.closeHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){e.open!==this.state.open&&this.setState({open:e.open})}},{key:"closeHandler",value:function(){this.setState({open:!1}),this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var e=this.props.options||{},t=e.maxWidth||"100%",n=(0,i.default)({"mfp-content":!0,noPad:e.noPad}),a=(0,i.default)({"mfp-wrap mfp-ready":!0,hidden:!this.state.open}),r=e.noCloseOverlay?null:this.closeHandler,l=e.noCloseBtn?null:o.default.createElement("button",{title:"Close (Esc)",type:"button",className:"mfp-close",onClick:this.closeHandler},"Ã—",o.default.createElement("span",{className:"offScreen"},"Close Modal"));return o.default.createElement("div",{className:a},o.default.createElement("div",{className:"mfp-bg mfp-ready",onClick:r}),o.default.createElement("div",{className:"mfp-container mfp-ajax-holder mfp-s-ready"},o.default.createElement("div",{className:n,style:{maxWidth:t}},this.props.children,l)))}}]),t}();t.default=s,s.propTypes={open:r.default.bool,options:r.default.object,onClose:r.default.func,children:r.default.any.isRequired}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return m})),n.d(t,"Request",(function(){return k})),n.d(t,"Response",(function(){return P})),n.d(t,"DOMException",(function(){return U})),n.d(t,"fetch",(function(){return O}));var a="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==a&&a,r="URLSearchParams"in a,o="Symbol"in a&&"iterator"in Symbol,i="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(e){return!1}}(),l="FormData"in a,s="ArrayBuffer"in a;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function m(e){this.map={},e instanceof m?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function b(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:l&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(b)}),this.text=function(){var e,t,n,a=h(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,n=g(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},m.prototype.delete=function(e){delete this.map[d(e)]},m.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},m.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},m.prototype.set=function(e,t){this.map[d(e)]=p(t)},m.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},m.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},m.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},m.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},o&&(m.prototype[Symbol.iterator]=m.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(e,t){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,a,r=(t=t||{}).body;if(e instanceof k){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new m(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new m(t.headers)),this.method=(a=(n=t.method||this.method||"GET").toUpperCase(),E.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function C(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}})),t}function P(e,t){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new m(t.headers),this.url=t.url||"",this._initBody(e)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},v.call(k.prototype),v.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var e=new P(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];P.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new P(null,{status:t,headers:{location:e}})};var U=a.DOMException;try{new U}catch(e){(U=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),U.prototype.constructor=U}function O(e,t){return new Promise((function(n,r){var o=new k(e,t);if(o.signal&&o.signal.aborted)return r(new U("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}l.onload=function(){var e,t,a={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new m,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),a=n.shift().trim();if(a){var r=n.join(":").trim();t.append(a,r)}})),t)};a.url="responseURL"in l?l.responseURL:a.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){n(new P(r,a))}),0)},l.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){r(new U("Aborted","AbortError"))}),0)},l.open(o.method,function(e){try{return""===e&&a.location.href?a.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&(i?l.responseType="blob":s&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof m?o.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){l.setRequestHeader(e,p(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&o.signal.removeEventListener("abort",c)}),l.send(void 0===o._bodyInit?null:o._bodyInit)}))}O.polyfill=!0,a.fetch||(a.fetch=O,a.Headers=m,a.Request=k,a.Response=P)},function(e,t){e.exports=Cropper},function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),i=n.n(o),l=n(19),s=n.n(l),c=n(13),u=n(12),d=n(20),p=n.n(d),f=n(4),m=n.n(f),h=(a={},m()(a,"ON_ERROR",(function(e,t){return t.error})),m()(a,"CLEAR_ERRORS",(function(){return[]})),a),g=m()({},"UPDATE_CONFIG",(function(e,t){return Object.assign({},e,t.config)})),b=n(14),y=n.n(b);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(r={},m()(r,"ADD_UPDATE",(function(e,t){return[Object.assign({},t.update,{id:t.update.statusUpdateId})].concat(y()(e))})),m()(r,"UPDATE_PIN",(function(e,t){return e.map((function(e){return e.id===t.id?Object.assign({},e,{pinned:t.pinned}):Object.assign({},e,{pinned:!1})}))})),m()(r,"EDIT_UPDATE",(function(e,t){return e.map((function(e){return e.id===t.update.statusUpdateId?Object.assign({},t.update,{editing:!1}):e}))})),m()(r,"DELETE_UPDATE",(function(e,t){return e.filter((function(e){return e.id!==t.id}))})),m()(r,"EDIT_UPDATE_CLICK",(function(e,t){return e.map((function(e){return e.id===t.id?Object.assign({},e,{editing:t.editing}):Object.assign({},e,{editing:!1})}))})),m()(r,"LIKE_UPDATE",(function(e,t){return e.map((function(e){return e.id===t.id?E(E({},e),{},{liked:!0,numOfLikes:e.numOfLikes+1}):e}))})),m()(r,"UNLIKE_UPDATE",(function(e,t){return e.map((function(e){return e.id===t.id?E(E({},e),{},{liked:!1,numOfLikes:Math.max(e.numOfLikes-1,0)}):e}))})),m()(r,"DUPLICATE_LIKE_UPDATE",(function(e,t){return e.map((function(e){return e.id===t.id?E(E({},e),{},{liked:!0}):e}))})),r),C=Object(u.combineReducers)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=h[t.type];return n?n(e,t):e},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=g[t.type];return n?n(e,t):e},updates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=k[t.type];return n?n(e,t):e}}),P=n(6),w=n.n(P),U=n(7),O=n.n(U),T=n(3),D=n.n(T),S=n(8),R=n.n(S),N=n(9),x=n.n(N),j=n(5),I=n.n(j),L=n(1),A=n.n(L),_=n(11),q=n.n(_),B=function(e){var t=e.errors;return t.length?i.a.createElement("div",{className:"errBox"},t.map((function(e){return i.a.createElement("div",{className:"magVertSm",key:e},e)}))):null};B.propTypes={errors:A.a.array.isRequired};var M=B,H=n(21),V=n.n(H),F=n(10),z=n.n(F),G=n(2),W=i.a.createElement("i",null),X=function(e){var t=e.url;return i.a.createElement("span",{className:z()("sqLogo tighten smSqLogo",{defLogo:!t})},t?i.a.createElement("img",{src:t,alt:""}):W)};X.defaultProps={url:""},X.propTypes={url:A.a.string};var K=X,Y=i.a.createElement("span",null,i.a.createElement("span",{className:"big block"},"--"),i.a.createElement("span",{className:"padTopSm block"},"Not Applicable")),$=i.a.createElement("i",{className:"icon-update-down margRtSm"}),Q=i.a.createElement("i",{className:"icon-update-up margRtSm"}),Z=function(e){var t=e.update,n=t.numOfClicks||0,a=t.engagementRate||0,r=t.numOfImpressions||0,o=100*(t.averageEngagementRateDelta||0),l=t.numOfLikes||0;return i.a.createElement("div",{className:"span-1-1 tbl padTopLg"},i.a.createElement("span",{className:"statContainer tbl span-1-1"},i.a.createElement("div",{className:"cell"},i.a.createElement("span",{className:"big block"},r),i.a.createElement("span",{className:"padTopSm block"},Object(G.msg)("msgEmpCtrCUImpressions"))),i.a.createElement("div",{className:"cell"},i.a.createElement("span",{className:"big block"},n),i.a.createElement("span",{className:"padTopSm block"},Object(G.msg)("msgEmpCtrCUClicks"))),i.a.createElement("div",{className:"cell"},i.a.createElement("span",{className:"big block"},l),i.a.createElement("span",{className:"padTopSm block"},Object(G.msgPluralize)("msgEmpCtrCULikes",l))),i.a.createElement("div",{className:"cell"},i.a.createElement("span",{className:"big block"},Math.round(100*a)/100,"%"),i.a.createElement("span",{className:"padTopSm block"},Object(G.msg)("msgEmpCtrCUEngagement"))),i.a.createElement("div",{className:"cell avgERD"},0===r?Y:o<0?i.a.createElement("span",null,i.a.createElement("span",{className:"big block red"},$,-1*Math.round(o),"%"),i.a.createElement("span",{className:"padTopSm block"},Object(G.msg)("msgEmpCtrCUEngagementsBlw"))):i.a.createElement("span",null,i.a.createElement("span",{className:"big block"},Q,Math.round(o),"%"),i.a.createElement("span",{className:"padTopSm block"},Object(G.msg)("msgEmpCtrCUEngagementsAbv"))))))};Z.propTypes={update:A.a.object.isRequired};var J=Z,ee=function(e){var t=e.update.numOfLikes||0;return i.a.createElement("div",{className:"flexbox padTopLg"},i.a.createElement("span",{className:"statContainer flexbox col fl-middle"},i.a.createElement("span",{className:"big block padTopSm"},t),i.a.createElement("span",{className:"block padTopSm padBotSm"},Object(G.msgPluralize)("msgEmpCtrCULikes",t))))};ee.propTypes={update:A.a.object.isRequired};var te=ee,ne=i.a.createElement("i",{className:"offsite margLtSm"}),ae=function(e){var t=e.linkUrl,n=e.linkTitle;return i.a.createElement("a",{href:t,target:"_blank",rel:"nofollow noreferrer",className:"h4"},n,ne)};ae.propTypes={linkUrl:A.a.string.isRequired,linkTitle:A.a.string.isRequired};var re=ae,oe=function(e){var t=e.imageUrl,n=e.imageData,a=e.linkUrl,r=e.isEmbedly,o=e.linkTitle;return r?i.a.createElement("div",{className:"postImage",style:{backgroundImage:"url(".concat(n||t,")")}},a?i.a.createElement("a",{href:a,target:"_blank",rel:"nofollow noreferrer"},i.a.createElement("img",{src:n||t,className:"imgPrev",alt:o||"",width:"100%"})):null):i.a.createElement("img",{src:n||t,className:"imgPrev",alt:o||""})};oe.defaultProps={imageData:"",imageUrl:"",linkUrl:"",isEmbedly:!1,linkTitle:""},oe.propTypes={imageUrl:A.a.string,imageData:A.a.string,linkUrl:A.a.string,isEmbedly:A.a.bool,linkTitle:A.a.string};var ie=oe,le=function(e){var t=e.hoursAgo,n=e.createDate;return t?i.a.createElement("span",{className:"SL_date minor padLtSm",title:n},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(e<=1)return Object(G.msg)("msgDurationPastLastHour");if(e<24)return Object(G.msg)("msgDurationPastHoursAgo",{num:e});var n=Math.round(e/24);return n<=1?Object(G.msg)("msgDurationPastYesterday"):n<7||!t?Object(G.msg)("msgDurationPastDaysAgo",{num:n}):t}(t,n)):null};le.defaultProps={hoursAgo:0,createDate:null},le.propTypes={hoursAgo:A.a.number,createDate:A.a.string};var se=le,ce=function(e){var t=e.videoSource;return i.a.createElement("iframe",{title:"videoLinkFrame",className:"tbl fill videoFrame",src:t})};ce.propTypes={videoSource:A.a.string.isRequired};var ue=ce,de=n(15),pe=n.n(de),fe=GD.page.gdToken,me="/Overview/likeOrUnLikeCompanyUpdateAjax.htm",he=/\s*(\S*(youtu\.be\/|youtube|vimeo)\S*)(?!.*(youtu\.be\/|youtube|vimeo))/,ge=/(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})/,be=/(?:https?:\/\/)vimeo.com\/(\d{5,})(?=\b|\/)/,ye=function(e){var t=e.handleCancel,n=e.handleConfirm;return i.a.createElement(pe.a,{open:!0,onClose:t,options:{maxWidth:500}},i.a.createElement("div",{className:"center"},i.a.createElement("h1",{className:"heading padBotSm"},Object(G.msg)("msgEmpCtrCUDeleteTitle")),i.a.createElement("p",null,Object(G.msg)("msgEmpCtrCUDeleteConfirm")),i.a.createElement("div",{className:"margVertSm"},i.a.createElement("button",{type:"button",className:"gd-btn gd-btn-2",onClick:t},i.a.createElement("span",null,Object(G.msg)("txtCancel"))),i.a.createElement("button",{type:"button",className:"gd-btn gd-btn-1",onClick:n},i.a.createElement("span",null,Object(G.msg)("msgLabelAccountDelete"))))))};ye.propTypes={handleCancel:A.a.func.isRequired,handleConfirm:A.a.func.isRequired};var ve=ye;var Ee=i.a.createElement("i",{className:"hlpr"}),ke=i.a.createElement("i",{className:"hlpr"}),Ce=i.a.createElement("i",{className:"hlpr"}),Pe=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state={showConfim:!1},a.onShowConfirm=a.onShowConfirm.bind(D()(a)),a.handleCancel=a.handleCancel.bind(D()(a)),a.handleConfirm=a.handleConfirm.bind(D()(a)),a}return O()(n,[{key:"onShowConfirm",value:function(){this.setState({showConfim:!0})}},{key:"handleCancel",value:function(){this.setState({showConfim:!1})}},{key:"handleConfirm",value:function(){this.props.deleteUpdate(this.props.update.id),this.setState({showConfim:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.update,a=t.updatePin,r=t.editUpdate;return i.a.createElement("div",{className:"cell controls alignRt alignTop"},n.pinned?i.a.createElement("button",{type:"button",alt:Object(G.msg)("msgEmpCtrCUUnpinDescription"),title:Object(G.msg)("msgEmpCtrCUUnpinDescription"),className:"gd-btn gd-btn-1 gd-btn-sm tight pin pinned ib",onClick:function(e){e.preventDefault(),a(n.id,!1)}},Object(G.msg)("msgEmpCtrCUUnpinLabel")):i.a.createElement("a",{href:"#",className:"link tight pin ib",title:Object(G.msg)("msgEmpCtrCUPinDescription"),onClick:function(e){e.preventDefault(),a(n.id,!0)}},i.a.createElement("i",{className:"icon-pin"},i.a.createElement("span",null,Object(G.msg)("msgEmpCtrCUPinTitle"))),Ee),i.a.createElement("a",{href:"#",className:"tight delete ib margLtSm",title:Object(G.msg)("msgEmpCtrCUDeleteConfirm"),onClick:function(t){t.preventDefault(),e.onShowConfirm()}},i.a.createElement("i",{className:"icon-delete"},i.a.createElement("span",null,Object(G.msg)("msgEmpCtrCUDeleteTitle"))),ke),i.a.createElement("a",{href:"#",className:"tight edit ib margLtSm",title:Object(G.msg)("edit"),onClick:function(){return r(n.id)}},i.a.createElement("i",{className:"icon-edit"},i.a.createElement("span",null,Object(G.msg)("edit"))),Ce),this.state.showConfim?i.a.createElement(ve,{handleCancel:this.handleCancel,handleConfirm:this.handleConfirm}):null)}}]),n}(i.a.Component);Pe.propTypes={update:A.a.object.isRequired,updatePin:A.a.func.isRequired,editUpdate:A.a.func.isRequired,deleteUpdate:A.a.func.isRequired};var we=Pe,Ue=function(e){var t=e.linkDescription;return i.a.createElement("p",{className:"linkDesc tightVert"},t)};Ue.propTypes={linkDescription:A.a.string.isRequired};var Oe=Ue,Te=n(22),De=n.n(Te);var Se=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).handleLikeClick=a.handleLikeClick.bind(D()(a)),a.handleUnlikeClick=a.handleUnlikeClick.bind(D()(a)),a}return O()(n,[{key:"handleLikeClick",value:function(e){e.preventDefault(),this.props.onLike(this.props.update.id)}},{key:"handleUnlikeClick",value:function(){this.props.onUnlike(this.props.update.id)}},{key:"render",value:function(){var e=this.props.update,t=e.numOfLikes,n=e.liked?this.handleUnlikeClick:this.handleLikeClick;return i.a.createElement("div",{className:"updateActions margTopXl"},i.a.createElement("button",{type:"button",onClick:n,className:z()("gd-btn",{active:e.liked})},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:De.a}}),Object(G.msg)("msgEmpCtrCULikeAction")," (",t||0,")"))}}]),n}(i.a.Component);Se.propTypes={update:A.a.object.isRequired,onLike:A.a.func.isRequired,onUnlike:A.a.func.isRequired},Se.defaultProps={onShare:null};var Re=Se,Ne=n(16),xe=i.a.createElement("li",{className:"covid19"}),je=i.a.createElement("span",{className:"covid19Badge strong"},"COVID-19"),Ie=i.a.createElement("br",null),Le=function(e){var t,n,a=e.item,r=e.logoUrl,l=e.showLogo,s=e.showStats,c=e.showLikeStats,u=e.updatePin,d=e.allowToPost,p=e.hideActions,f=e.editUpdate,m=e.deleteUpdate,h=e.videoEnabled,g=e.likeUpdate,b=e.unlikeUpdate,y=e.enableLikes,v=e.userInfo,E=!!a.linkUrl||!!a.linkTitle||!!a.linkDescription,k=a.thumbnailImageUrl||a.displayImageUrl||a.imageUrl,C=a.videoSource;if(!C&&a.embeddedVideoUrl){var P=a.embeddedVideoUrl.match(ge),w=a.embeddedVideoUrl.match(be);P?C="https://www.youtube.com/embed/"+P[1]:w&&(C="https://player.vimeo.com/video/"+w[1])}var U=!!a.imageData||!!k,O=(a.text||"").nl2br().split("<br/>");return i.a.createElement(i.a.Fragment,null,a.covid19Update?xe:null,i.a.createElement("li",{className:"companyUpdate module"},i.a.createElement("div",{className:"tbl fill"},l?i.a.createElement("div",{className:"cell logo"},i.a.createElement(K,{url:r})):null,i.a.createElement("div",{className:"cell"},i.a.createElement("div",{className:"margBotXs padLtSm"},a.userEmail&&d?i.a.createElement("span",{className:"updateBy"},Object(G.msg)("msgByEmail",{email:a.userEmail})):i.a.createElement("span",{className:"updateBy"},v.employerName)),i.a.createElement(se,{hoursAgo:a.hoursAgo,createDate:a.createDate})),p?null:i.a.createElement(we,{update:a,updatePin:u,editUpdate:f,deleteUpdate:m}),a.covid19Update||a.audience||a.category?i.a.createElement("div",{className:"cell alignRt"},a.covid19Update&&je,null===(t=a.audience)||void 0===t||null===(n=t.matchedFilters)||void 0===n?void 0:n.map((function(e){return i.a.createElement("span",{className:"defaultBadge strong"},e)})),a.category&&!a.covid19Update&&i.a.createElement("span",{className:"defaultBadge strong"},Object(G.msg)(a.category.stringKey))):null),i.a.createElement("div",null,i.a.createElement("p",{className:"updateText"},O.map((function(e,t){return i.a.createElement(o.Fragment,null,e,t!==O.length-1&&Ie)}))),U||E?i.a.createElement("div",{className:z()("flexbox row embed margVert fill",!E&&"imageOnly")},U?i.a.createElement("div",{className:"fl-1"},i.a.createElement(ie,{imageUrl:k,imageData:a.imageData,linkUrl:a.linkUrl,isEmbedly:E,linkTitle:a.linkTitle})):null,E?i.a.createElement("div",{className:"fl-2"},i.a.createElement("div",{className:"fill pad embed-content"},a.linkTitle?i.a.createElement("div",{className:"rel"},i.a.createElement(re,{linkUrl:a.linkUrl,linkTitle:a.linkTitle})):null,a.linkDescription?i.a.createElement(Oe,{linkDescription:a.linkDescription}):null)):null):null,h&&C?i.a.createElement("div",{className:"embed video tbl margVert fill"},i.a.createElement(ue,{videoSource:C})):null,s?i.a.createElement(J,{update:a}):null,c?i.a.createElement(te,{update:a}):null,y&&!s?i.a.createElement(Re,{update:a,onLike:g,onUnlike:b}):null)))};Le.defaultProps={logoUrl:"",showLogo:!1,showStats:!1,showLikeStats:!1,allowToPost:!1,hideActions:!1,videoEnabled:!1},Le.propTypes={showLogo:A.a.bool,showStats:A.a.bool,showLikeStats:A.a.bool,logoUrl:A.a.string,allowToPost:A.a.bool,hideActions:A.a.bool,videoEnabled:A.a.bool,item:A.a.object.isRequired,updatePin:A.a.func.isRequired,editUpdate:A.a.func.isRequired,deleteUpdate:A.a.func.isRequired,likeUpdate:A.a.func.isRequired,unlikeUpdate:A.a.func.isRequired,enableLikes:A.a.func.isRequired,userInfo:A.a.object.isRequired};var Ae=Le,_e=function(e){var t=e.items,n=e.showDeleted,a=q()(e,["items","showDeleted"]),r=t.filter((function(e){return!(e.deleted&&e.deleted!==n||e.editing)}));return i.a.createElement("ul",null,r.map((function(e){return i.a.createElement(Ae,V()({key:e.id,item:e},a))})))};_e.propTypes={items:A.a.array.isRequired,showLogo:A.a.bool.isRequired,showStats:A.a.bool.isRequired,showLikeStats:A.a.bool.isRequired,logoUrl:A.a.string.isRequired,showDeleted:A.a.bool.isRequired,allowToPost:A.a.bool.isRequired,updatePin:A.a.func.isRequired,editUpdate:A.a.func.isRequired,deleteUpdate:A.a.func.isRequired,videoEnabled:A.a.bool.isRequired,likePost:A.a.bool.isRequired,unlikePost:A.a.bool.isRequired,enableLikes:A.a.bool.isRequired,userInfo:A.a.object.isRequired};var qe=_e,Be=n(17),Me=n.n(Be),He=function(e,t,n,a){return Me()(e+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?"?".concat(t+Object.keys(e).reduce((function(t,n){return[].concat(y()(t),["".concat(n,"=").concat(e[n])])}),[]).join("&".concat(t))):""}(t,a),{method:"GET",mode:"cors",credentials:"same-origin",headers:{Accept:n&&n.contentType||"application/json","Content-Type":n&&n.contentType||"application/json"}})},Ve=function(){function e(t){w()(this,e),this.opts=t,this.$el=t.$el,this.embedlyCallback=null,this.handleEvent=this.handleEvent.bind(this),this.getEmbedlyData=this.getEmbedlyData.bind(this),this.$el.addEventListener("input",this.handleEvent),this.$el.addEventListener("keyup",this.handleEvent),this.disabled=!1}return O()(e,[{key:"handleEvent",value:function(){var e=this;this.disabled||(this.embedlyCallback&&clearTimeout(this.embedlyCallback),this.embedlyCallback=setTimeout((function(){var t,n,a,r=((a=(t=e.$el.value)&&t.match(Ne.urlRegex))&&(n=a[a.length-1]),n);r&&e.getEmbedlyData(r)}),this.TIMEOUT))}},{key:"getEmbedlyData",value:function(e){var t=this,n={gdToken:fe,url:encodeURIComponent(e)};return this.opts.callbacks&&this.opts.callbacks.beforeSend&&this.opts.callbacks.beforeSend(),He(this.DATA_URL,n).then((function(e){return e.status>=400&&t.opts.callbacks&&t.opts.callbacks.onError&&t.opts.callbacks.onError(),e.json()})).then((function(e){t.opts.callbacks&&t.opts.callbacks.onSuccess&&t.opts.callbacks.onSuccess(e),t.opts.callbacks&&t.opts.callbacks.complete&&t.opts.callbacks.complete()}))}}]),e}();Ve.prototype.DATA_URL="/employers/ec/companyUpdate/embedlyAjax.htm",Ve.prototype.TIMEOUT=500;var Fe=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state={text:a.props.text,editing:a.props.editing},a.handleChange=a.handleChange.bind(D()(a)),a.startEditing=a.startEditing.bind(D()(a)),a.finishEditing=a.finishEditing.bind(D()(a)),a.cancelEditing=a.cancelEditing.bind(D()(a)),a.handleKeyDown=a.handleKeyDown.bind(D()(a)),a}return O()(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.text!==this.props.text,n=e.editing!==this.props.editing,a={};t&&(a.text=e.text),n&&(a.editing=e.editing),(t||n)&&this.setState(a)}},{key:"componentDidUpdate",value:function(e){this.state.editing&&e.text!==this.props.text&&this.finishEditing()}},{key:"handleChange",value:function(e){this.setState({text:e.target.value.trim()})}},{key:"startEditing",value:function(){this.setState({editing:!0,text:this.props.text})}},{key:"finishEditing",value:function(){this.props.text===this.state.text?this.cancelEditing():(this.setState({editing:!1,text:this.state.text}),this.props.onChange(this.state.text))}},{key:"cancelEditing",value:function(){this.setState({editing:!1,text:this.props.text})}},{key:"handleKeyDown",value:function(e){13===e.keyCode?this.finishEditing():27===e.keyCode&&this.cancelEditing()}},{key:"render",value:function(){if(this.state.editing){var e=this.props.element;return i.a.createElement(e,{type:"text",defaultValue:this.state.text,placeholder:this.props.placeholder,className:this.props.editClassName,ref:function(e){return null!=e&&e.focus()},onBlur:this.finishEditing,onChange:this.handleChange,onKeyDown:this.handleKeyDown})}return i.a.createElement("span",{onClick:this.startEditing,className:this.props.className},this.state.text||this.props.placeholder)}}]),n}(i.a.Component);Fe.defaultProps={className:"",editing:!1,placeholder:"",element:"input",editClassName:""},Fe.propTypes={editing:A.a.bool,element:A.a.string,className:A.a.string,placeholder:A.a.string,editClassName:A.a.string,text:A.a.string.isRequired,onChange:A.a.func.isRequired};var ze=Fe;var Ge=i.a.createElement("span",{className:"padLtSm"},"Show Image"),We=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state={postText:"",isPosting:!1,displayImage:!0,isPhotoUploading:!1,linkTitle:e.linkTitle,linkDescription:e.linkDescription},a.toggleCheck=a.toggleCheck.bind(D()(a)),a.handleCancel=a.handleCancel.bind(D()(a)),a.handleInlineEditChange=a.handleInlineEditChange.bind(D()(a)),a.handlePhotoUploadIntent=a.handlePhotoUploadIntent.bind(D()(a)),a.donePhotoUpload=a.donePhotoUpload.bind(D()(a)),a}return O()(n,[{key:"componentWillReceiveProps",value:function(e){e.linkTitle===this.state.linkTitle&&e.linkDescription===this.state.linkDescription||this.setState({linkTitle:e.linkTitle,linkDescription:e.linkDescription})}},{key:"toggleCheck",value:function(){this.setState({displayImage:!this.state.displayImage}),this.props.onChange("displayImage",!this.state.displayImage)}},{key:"handleCancel",value:function(e){e.preventDefault(),this.setState({postText:"",linkTitle:"",linkDescription:""}),this.props.onCancel()}},{key:"handleInlineEditChange",value:function(e,t){this.setState(m()({},e,t)),this.props.onChange(e,t)}},{key:"handlePhotoUploadIntent",value:function(e){e.preventDefault(),this.setState({isPhotoUploading:!0})}},{key:"donePhotoUpload",value:function(){this.setState({isPhotoUploading:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.displayImage,a=t.linkTitle,r=t.linkDescription,o=this.props,l=o.imageUrl,s=o.imageData,c=o.imageOnlyPreview,u=o.videoSource,d=o.videoEnabled;return i.a.createElement("div",null,s||l||a||r?[n&&c&&(s||l)&&!a?i.a.createElement("div",{className:z()("embed row margVert fill flexbox imageOnly"),key:"0"},i.a.createElement("div",{className:z()("fl-1")},i.a.createElement("img",{src:l||s,alt:""})),i.a.createElement("i",{className:"medx",onClick:this.handleCancel})):null,a||r?i.a.createElement("div",{className:z()("embed row margVert fill flexbox"),key:"1"},n&&(s||l)?i.a.createElement("div",{className:z()("fl-1")},i.a.createElement("div",{className:"postImage",style:{backgroundImage:"url(".concat(s||l,")")}})):null,i.a.createElement("div",{className:"fl-2"},i.a.createElement("div",{className:"pad"},i.a.createElement("p",{className:"tightVert"},i.a.createElement(ze,{text:a,className:"link h4 editable",editClassName:"std fill",onChange:function(t){return e.handleInlineEditChange("linkTitle",t)}})),i.a.createElement("p",{className:"linkDesc noMargTop"},i.a.createElement(ze,{element:"textarea",text:r,editClassName:"std fill",className:"desc subtle editable",onChange:function(t){return e.handleInlineEditChange("linkDescription",t)}})),n&&(s||l)?i.a.createElement("div",{className:"margTopSm"},i.a.createElement("label",{htmlFor:"DisplayImageBox",className:"small"},i.a.createElement("input",{type:"checkbox",id:"DisplayImageBox",checked:n,onChange:this.toggleCheck}),Ge)):null)),c?null:i.a.createElement("i",{className:"medx",onClick:this.handleCancel})):null]:null,""!==u&&d?i.a.createElement("div",{className:"embed video tbl margVert fill padTop30"},i.a.createElement("i",{className:"medx",onClick:this.handleCancel}),i.a.createElement("iframe",{title:"videoLinkPreviewFrame",className:"tbl fill videoFrame",src:u})):null)}}]),n}(i.a.Component);We.defaultProps={imageUrl:"",imageData:"",linkTitle:"",videoSource:"",linkDescription:"",imageOnlyPreview:!1,videoEnabled:!1},We.propTypes={imageUrl:A.a.string,imageData:A.a.string,linkTitle:A.a.string,videoSource:A.a.string,linkDescription:A.a.string,imageOnlyPreview:A.a.bool,videoEnabled:A.a.bool,onChange:A.a.func.isRequired,onCancel:A.a.func.isRequired};var Xe=n(23),Ke=n.n(Xe),Ye=/^(image\/png|image\/gif|image\/jpeg|image\/jpg)$/;var $e=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state={imageData:e.originalImageData,uploadIssueMsg:""},a.handleCancel=a.handleCancel.bind(D()(a)),a.handleFileChange=a.handleFileChange.bind(D()(a)),a.donePhotoUpload=a.donePhotoUpload.bind(D()(a)),a}return O()(n,[{key:"componentDidMount",value:function(){this.fileInput.click()}},{key:"handleCancel",value:function(){this.props.handleCancel()}},{key:"handleFileChange",value:function(){var e=this;this.fileInput.files[0]&&function(e){return new Promise((function(t,n){var a=new FileReader;if(e&&e.type.match(Ye)){if(!function(e,t){return e>=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&&e/1024/1024<=t}(e.size,5))return n({type:"FORMAT",msg:"FILE SIZE TOO LARGE"});a.readAsDataURL(e),a.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){return function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e>=r&&e<=n&&t>=o&&t<=a}(a.width,a.height,1e5,1e5,1,1)?t(e.target.result):n({type:"FORMAT",msg:"IMAGE WRONG SIZE"})}},a.onerror=function(){return n({type:"SYSTEM",msg:"ERROR WHILE LOADING THE IMAGE"})}}else if(e)return n({type:"FORMAT",msg:"FILE IS NOT AN IMAGE"});return a}))}(this.fileInput.files[0]).then((function(t){e.setState({imageData:t,uploadIssueMsg:""})})).catch((function(t){e.setState({uploadIssueMsg:Object(G.msg)("msgEmpCtrCUImageUploadFailure",{errorMessage:t.msg})})}))}},{key:"donePhotoUpload",value:function(){var e=this.cropper.getCroppedCanvas().toDataURL("image/jpeg",.8);this.props.donePhotoUpload(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.imageData,a=t.uploadIssueMsg;return i.a.createElement("div",null,i.a.createElement(pe.a,{open:!0,onClose:this.handleCancel,options:{maxWidth:1e3,noCloseOverlay:!0}},i.a.createElement("div",null,i.a.createElement(Ke.a,{guides:!0,src:n,ref:function(t){e.cropper=t},style:{maxWidth:968,maxHeight:600}})),a?i.a.createElement("div",{className:"errBox"},a):null,i.a.createElement("div",{className:"padTopSm subtle minor"},Object(G.msg)("msgImageCropper")),i.a.createElement("div",{className:"padVert center"},i.a.createElement("button",{type:"button",className:"gd-btn gd-btn-2",onClick:this.handleCancel},i.a.createElement("span",null,Object(G.msg)("txtCancel"))),i.a.createElement("button",{type:"button",className:"gd-btn gd-btn-1",onClick:this.donePhotoUpload},i.a.createElement("span",null,Object(G.msg)("msgSave"))))),i.a.createElement("input",{type:"file",className:"hidden",onChange:this.handleFileChange,ref:function(t){e.fileInput=t}}))}}]),n}(i.a.Component);$e.defaultProps={originalImageData:""},$e.propTypes={originalImageData:A.a.string.isRequired,donePhotoUpload:A.a.func.isRequired,handleCancel:A.a.func.isRequired};var Qe=$e;var Ze=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;w()(this,n),a=t.call(this,e);var r=e.profiles.profiles.length;return a.state={selectedProfileIds:{},selectedCount:r,languages:m()({},e.profiles.language,!1),dropdown:!1,allProfileCount:r},a.toggleDropdown=a.toggleDropdown.bind(D()(a)),a.checkEntiretyOfLanguage=a.checkEntiretyOfLanguage.bind(D()(a)),a.handleProfileClick=a.handleProfileClick.bind(D()(a)),a.handleProfileAllClick=a.handleProfileAllClick.bind(D()(a)),a.checkEntiretyOfLanguage=a.checkEntiretyOfLanguage.bind(D()(a)),a.handleProfileAllClick(e.profiles.language,!1),a}return O()(n,[{key:"checkEntiretyOfLanguage",value:function(e,t,n){for(var a=this.props.profiles.profiles,r=this.state.selectedProfileIds,o=!0,i=0;i<a.length;i+=1){var l=a[i].id;if(e!==l&&n!==!!r[l]){o=!1;break}}this.setState({languages:Object.assign(this.state.languages,m()({},t,!(!o||!n)))})}},{key:"handleProfileClick",value:function(e,t){if(e!==this.props.profileId){var n=this.state.selectedProfileIds,a=!n[e]&&!0,r=Object.assign({},n,m()({},e,a)),o=a?this.state.selectedCount+1:this.state.selectedCount-1;this.setState({selectedProfileIds:r,selectedCount:o}),this.handleChange(r),this.checkEntiretyOfLanguage(e,t,a)}}},{key:"handleProfileAllClick",value:function(e,t){var n=this,a=!this.state.languages[e],r=this.state.selectedProfileIds,o=this.props.profiles.profiles.filter((function(e){return e.id!==n.props.profileId||!t})).reduce((function(e,t){return Object.assign({},e,m()({},t.id,a))}),{}),i=Object.assign(r,o),l=t?1:0;a&&this.props.profiles.profiles.map((function(e){return e.id===n.props.profileId&&t||(l+=1),!0})),this.setState({selectedProfileIds:i,selectedCount:l,languages:Object.assign(this.state.languages,m()({},e,a))}),this.handleChange(i)}},{key:"handleChange",value:function(e){var t=Object.keys(e).filter((function(t){return e[t]}));this.props.onProfileChange(t)}},{key:"toggleDropdown",value:function(){var e=this.state.dropdown;this.setState({dropdown:!e})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.dropdown,r=n.selectedProfileIds,o=n.languages,l=n.selectedCount,s=n.allProfileCount,c=a?"rotate180":"",u=this.props.profiles.language;return e=l===s?Object(G.msg)("msgEmpCtrCUAllProfiles",{lang:u}):l>0?l>1?Object(G.msg)("msgEmpCtrCUProfilesSelected",{selectedCount:l}):Object(G.msg)("msgEmpCtrCUProfileSelected"):Object(G.msg)("msgEmpCtrCUNoProfiles"),i.a.createElement("div",{className:"profileBox margRt",onMouseLeave:function(){return t.setState({dropdown:!1})}},i.a.createElement("div",null,i.a.createElement("div",{onClick:this.toggleDropdown,className:"dropdownTitle padSm"},i.a.createElement("span",null,e),i.a.createElement("i",{className:"blue-caret floatRt ".concat(c)})),a?i.a.createElement("div",{className:"profilesContainer"},i.a.createElement("div",{className:"languagesGroup"},i.a.createElement("div",{onClick:function(){return t.handleProfileAllClick(u,!0)},className:"allProfile padRtSm"},i.a.createElement("input",{type:"checkbox",className:"margHorzSm margVertSm",checked:!!o[u]}),Object(G.msg)("msgEmpCtrCUAllProfiles",{lang:u})),this.props.profiles.profiles.map((function(e,t){return i.a.createElement("div",null,e.tlds.map((function(t,n){var a=this;return i.a.createElement("div",{onClick:function(){return a.handleProfileClick(e.id,u)},className:"individualProfile padRtSm"},i.a.createElement("input",{type:"checkbox",className:"margHorzSm margVertSm",checked:!!r[e.id],disabled:e.id===this.props.profileId}),u," - ",t)}),this))}),this))):null))}}]),n}(i.a.Component);Ze.propTypes={profiles:A.a.array.isRequired,onProfileChange:A.a.func.isRequired,profileId:A.a.number.isRequired};var Je=Ze;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=i.a.createElement("div",{className:"cell minor strong"}),at=i.a.createElement("i",{className:"icon-cameraIcon"}),rt=i.a.createElement("span",null,i.a.createElement("i",{className:"spinner"})),ot=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state=function(e){return{showPreview:!1,showVideoPreview:!1,imageOnlyPreview:!1,isPhotoUploading:!1,isEmbedlyProcessing:!1,update:e.update||{text:"",linkUrl:"",imageUrl:"",linkTitle:"",linked:!1,linkDescription:"",displayImage:!1,videoSource:""}}}(e),a.initEmbedly=a.initEmbedly.bind(D()(a)),a.handleSubmit=a.handleSubmit.bind(D()(a)),a.handleChange=a.handleChange.bind(D()(a)),a.handleCancel=a.handleCancel.bind(D()(a)),a.donePhotoUpload=a.donePhotoUpload.bind(D()(a)),a.hasAnyDataToPost=a.hasAnyDataToPost.bind(D()(a)),a.handleImageCancel=a.handleImageCancel.bind(D()(a)),a.handlePreviewDataChange=a.handlePreviewDataChange.bind(D()(a)),a.handlePhotoUploadIntent=a.handlePhotoUploadIntent.bind(D()(a)),a.handlePreviewCancel=a.handlePreviewCancel.bind(D()(a)),a}return O()(n,[{key:"componentDidMount",value:function(){this.initEmbedly()}},{key:"componentWillReceiveProps",value:function(e){var t=e.isPosting,n=e.hasPosted,a=e.updateToEdit,r=this.state.update;if(!t&&n&&(r.text||r.imageData)&&this.handleCancel(),a&&a.id){var o=a.imageData||a.imageUrl||a.linkTitle,i=o&&!a.linkTitle;this.setState({showPreview:o,imageOnlyPreview:i,update:a})}}},{key:"initEmbedly",value:function(){var e=this;this.embedly=new Ve({$el:this.text,callbacks:{beforeSend:function(){e.setState({isEmbedlyProcessing:!0})},onSuccess:function(t){if(t&&t.linkTitle){var n=e.state.update,a={};e.props.videoEnabled&&(ge.test(t.linkUrl)||be.test(t.linkUrl))?a.showVideoPreview=e.props.videoEnabled:(a.showPreview=!0,a.update=Object.assign({},n,t,{linkDescription:t.linkDesc,displayImage:!0})),e.setState(a)}},complete:function(){e.setState({isEmbedlyProcessing:!1})}}})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,n=this.state.update,a=(t=n,Object.keys(t).reduce((function(e,n){return t[n]?Object.assign({},e,m()({},n,t[n])):e}),{}));this.props.onSubmit(a)}},{key:"handleChange",value:function(e){var t=e.target.value;if(this.props.videoEnabled){var n=t.match(he),a="";if(n){var r=n[0].match(ge),o=n[0].match(be);r?a="https://www.youtube.com/embed/"+r[1]:o&&(a="https://player.vimeo.com/video/"+o[1])}this.setState({update:Object.assign({},this.state.update,{text:t,videoSource:a})})}else this.setState({update:Object.assign({},this.state.update,{text:t})})}},{key:"handleCancel",value:function(){this.embedly.disabled=!1,this.setState({showPreview:!1,showVideoPreview:!1,imageOnlyPreview:!1,isPhotoUploading:!1,update:{text:"",linkUrl:"",imageUrl:"",linkTitle:"",linked:!1,linkDescription:"",displayImage:!1,videoSource:""}}),this.props.onCancel()}},{key:"handleImageCancel",value:function(){this.embedly.disabled=!1,this.setState({isPhotoUploading:!1})}},{key:"handlePreviewCancel",value:function(){this.embedly.disabled=!1,this.setState({showPreview:!1,showVideoPreview:!1,imageOnlyPreview:!1,update:tt(tt({},this.state.update),{},{imageData:null,linkUrl:"",imageUrl:"",linkTitle:"",linked:!1,linkDescription:"",displayImage:!1,videoSource:""})})}},{key:"donePhotoUpload",value:function(e){var t=this.state.update,n=t.videoSource,a=t.text;this.setState({showPreview:!0,imageOnlyPreview:!0,isPhotoUploading:!1,update:Object.assign({},this.state.update,{text:a,imageData:e,videoSource:n,displayImage:!0})})}},{key:"hasAnyDataToPost",value:function(){var e=this.state.update;return!!e.text||!!e.imageUrl||!!e.imageData}},{key:"handlePhotoUploadIntent",value:function(e){e.preventDefault(),this.setState({isPhotoUploading:!0})}},{key:"handlePreviewDataChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,m()({},e,t))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isPosting,a=t.maxCharLimit,r=t.videoEnabled,o=t.profiles,l=t.onProfileChange,s=t.isPaidUser,c=t.updateToEdit,u=t.profileId,d=this.state,p=d.update,f=d.showPreview,m=d.imageOnlyPreview,h=d.isEmbedlyProcessing,g=d.isPhotoUploading,b=d.showVideoPreview,y=(p.text||"").length;return i.a.createElement("div",null,i.a.createElement("form",{method:"post",id:"CompanyUpdatesForm",encType:"multipart/form-data",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"tbl fill"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"cell minor"},i.a.createElement("div",{className:"tbl fill padBotSm"},nt,i.a.createElement("div",{className:"cell alignRt middle"},i.a.createElement("span",{id:"StatusCharCount",className:"charCount minor"},Object(G.msg)("charCount",{count:y,limit:a}),"Â "))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"cell padHorzLt postTextContainer"},i.a.createElement("textarea",{name:"text",id:"PostText",className:"".concat(s&&"cameraPadded"," std fill"),value:p.text,maxLength:a,onChange:this.handleChange,ref:function(t){e.text=t}}),s?i.a.createElement("a",{href:"#",onClick:this.handlePhotoUploadIntent},at):null))),i.a.createElement("div",{className:"preview template"},f||b?i.a.createElement(We,{linkUrl:p.linkUrl,imageUrl:p.imageUrl,imageData:p.imageData,linkTitle:p.linkTitle,videoSource:p.videoSource,linkDescription:p.linkDescription,imageOnlyPreview:m,videoEnabled:r,onCancel:this.handlePreviewCancel,onChange:this.handlePreviewDataChange}):null),i.a.createElement("div",{className:"flex-grid padTopSm"},o&&o.profiles&&o.profiles.length>1&&!c&&s?i.a.createElement("div",{className:"floatLt fillHH"},i.a.createElement(Je,{profiles:o,onProfileChange:l,profileId:u})):null,i.a.createElement("div",{className:"floatRt alignRt fillHH"},n||h?rt:null,this.hasAnyDataToPost()?i.a.createElement("a",{className:"link margHorz margVertSm",onClick:this.handleCancel},Object(G.msg)("txtCancel")):null,i.a.createElement("button",{type:"submit",className:"gd-btn gd-btn-1 padHorzXl",disabled:z()({disabled:n||!this.hasAnyDataToPost()})},Object(G.msg)("msgPost")))),g?i.a.createElement(Qe,{donePhotoUpload:this.donePhotoUpload,handleCancel:this.handleCancel}):null))}}]),n}(i.a.Component);ot.defaultProps={updateToEdit:null,userInfo:{},maxCharLimit:1100},ot.propTypes={updateToEdit:A.a.object,userInfo:A.a.object,maxCharLimit:A.a.number,profiles:A.a.array.isRequired,salesPhoneNum:A.a.number.isRequired,upsellButtonCTA:A.a.string.isRequired,isPaidUser:A.a.bool.isRequired,isPosting:A.a.bool.isRequired,hasPosted:A.a.bool.isRequired,onSubmit:A.a.func.isRequired,onCancel:A.a.func.isRequired,onProfileChange:A.a.func.isRequired,requestQuote:A.a.func.isRequired,videoEnabled:A.a.bool.isRequired,profileId:A.a.number.isRequired};var it=function(e){e.config;var t=e.errors,n=(e.updateToEdit,q()(e,["config","errors","updateToEdit"]));return i.a.createElement("div",null,i.a.createElement(M,{errors:t}),n.updates.length>0?i.a.createElement(qe,{items:n.updates,logoUrl:n.logoUrl,showLogo:n.showLogo,showStats:n.showStats,showLikeStats:n.showLikeStats,employerId:n.employerId,showDeleted:n.showDeleted,updatePin:n.handleUpdatePin,editUpdate:n.handleEditUpdate,deleteUpdate:n.handleDeleteUpdate,allowToPost:n.allowToPost,videoEnabled:n.allowVideoPosts,likeUpdate:n.handleLikeUpdate,unlikeUpdate:n.handleUnlikeUpdate,enableLikes:n.enableLikes,userInfo:n.userInfo,hideActions:!0}):null)},lt=i.a.createElement("br",null),st=i.a.createElement("br",null),ct=function(e){var t=e.config,n=e.errors,a=e.updateToEdit,r=q()(e,["config","errors","updateToEdit"]);return i.a.createElement("div",{className:"empCtrLayout"},i.a.createElement(M,{errors:n}),r.allowToPost?i.a.createElement("div",{className:"flex-grid margBotXl"},i.a.createElement("aside",{className:"span-1-3 fillHH floatLt"},lt,st," ",Object(G.msg)("msgEmpCtrCUSidebar").addUpdates),i.a.createElement("div",{className:"span-2-3 fillHH floatLt"},i.a.createElement(ot,{updateToEdit:a,logoUrl:r.logoUrl,onSubmit:r.handleSubmit,onCancel:r.handleCancel,onProfileChange:r.handleProfileChange,hasPosted:t.hasPosted,isPosting:t.isPosting,isPaidUser:r.isPaidUser,videoEnabled:r.allowVideoPosts,salesPhoneNum:r.salesPhoneNum,userInfo:r.userInfo,upsellButtonCTA:r.upsellButtonCTA,requestQuote:r.requestQuote,profiles:r.sameLanguageProfiles,profileId:r.profileId}))):null,r.updates.length>0?i.a.createElement("div",{className:"flex-grid"},i.a.createElement("aside",{className:"span-1-3 fillHH floatLt"},i.a.createElement("p",null,i.a.createElement("strong",null,Object(G.msg)("msgEmpCtrCUSidebar").yourUpdates))),i.a.createElement("div",{className:"span-2-3 fillHH floatLt"},i.a.createElement(qe,{items:r.updates,logoUrl:r.logoUrl,showLogo:r.showLogo,showStats:r.showStats,showLikeStats:r.showLikeStats,employerId:r.employerId,showDeleted:r.showDeleted,updatePin:r.handleUpdatePin,editUpdate:r.handleEditUpdate,deleteUpdate:r.handleDeleteUpdate,allowToPost:r.allowToPost,videoEnabled:r.allowVideoPosts,likeUpdate:r.handleLikeUpdate,unlikeUpdate:r.handleUnlikeUpdate,enableLikes:r.enableLikes,userInfo:r.userInfo}))):null)},ut=function(e){var t=e.config,n=e.errors,a=e.updateToEdit,r=q()(e,["config","errors","updateToEdit"]);return i.a.createElement("div",{className:"empCtrLayout"},i.a.createElement(M,{errors:n}),r.allowToPost?i.a.createElement("div",{className:"flex-grid margBotXl"},i.a.createElement("div",{className:"fillHH module"},i.a.createElement("h2",null,GD.page.companyUpdates.headingText),i.a.createElement("p",null,GD.page.companyUpdates.descriptionText),i.a.createElement(ot,{updateToEdit:a,logoUrl:r.logoUrl,onSubmit:r.handleSubmit,onCancel:r.handleCancel,onProfileChange:r.handleProfileChange,hasPosted:t.hasPosted,isPosting:t.isPosting,isPaidUser:r.isPaidUser,videoEnabled:r.allowVideoPosts,salesPhoneNum:r.salesPhoneNum,userInfo:r.userInfo,upsellButtonCTA:r.upsellButtonCTA,requestQuote:r.requestQuote,profiles:r.sameLanguageProfiles,profileId:r.profileId}))):null,r.updates.length>0?i.a.createElement("div",{className:"flex-grid"},i.a.createElement("div",{className:"fillHH floatLt"},i.a.createElement(qe,{items:r.updates,logoUrl:r.logoUrl,showLogo:r.showLogo,showStats:r.showStats,showLikeStats:r.showLikeStats,employerId:r.employerId,showDeleted:r.showDeleted,updatePin:r.handleUpdatePin,editUpdate:r.handleEditUpdate,deleteUpdate:r.handleDeleteUpdate,allowToPost:r.allowToPost,videoEnabled:r.allowVideoPosts,likeUpdate:r.handleLikeUpdate,unlikeUpdate:r.handleUnlikeUpdate,enableLikes:r.enableLikes,userInfo:r.userInfo}))):null)},dt=function(e){return{type:"ON_ERROR",error:[e]}},pt=function(e){return function(t){t(function(e){return{type:"UPDATE_CONFIG",config:e}}(e))}},ft=function(e){return{type:"ADD_UPDATE",update:e}},mt=function(e){return{type:"EDIT_UPDATE",update:e}},ht=function(e,t,n,a,r,o,i,l){var s=Object.assign({},t,{empId:n,tldId:a,profileId:r,selectedProfileIds:l,gdToken:fe}),c="".concat(e,"?gdToken=").concat(fe);return o(pt({isPosting:!0})),o({type:"CLEAR_ERRORS"}),function(e,t,n){return Me()(e,{method:"POST",mode:"cors",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:t})}(c,JSON.stringify({data:s})).then((function(e){return e.status>=400?(o(pt({hasPosted:!1,isPosting:!1})),o(dt(Object(G.msg)("msgGenericUnexpected")))):e.json()})).then((function(e){if(e&&e.empId&&(!e.errorMsgs||!e.errorMsgs)){o(pt({isPosting:!1,hasPosted:!0}));var n=Object.assign({},t,e);return o(i(n))}o(pt({isPosting:!1,hasPosted:!1}));var a=e.errorMsgs||Object(G.msg)("globalLeaderAjaxError");return o(dt(a))}))},gt=function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return He(e,a,r,o).then((function(e){return e.status>=400?t(dt(Object(G.msg)("msgGenericUnexpected"))):t(n)}))},bt=function(e,t,n,a){return He(e).then((function(e){if(e.status>=400)throw new Error(e);return e.json()})).then((function(e){e&&("SUCCESS"===e.responseResult?t(n):"DUPLICATED"===e.responseResult&&a&&t(a))})).catch((function(){t(dt(Object(G.msg)("msgGenericUnexpected")))}))};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(e){R()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}(n);function n(e){var a;return w()(this,n),(a=t.call(this,e)).state={updateToEdit:null},a.handleSubmit=a.handleSubmit.bind(D()(a)),a.handleCancel=a.handleCancel.bind(D()(a)),a.handleUpdatePin=a.handleUpdatePin.bind(D()(a)),a.handleEditUpdate=a.handleEditUpdate.bind(D()(a)),a.handleDeleteUpdate=a.handleDeleteUpdate.bind(D()(a)),a.handleProfileChange=a.handleProfileChange.bind(D()(a)),a.handleLikeUpdate=a.handleLikeUpdate.bind(D()(a)),a.handleUnlikeUpdate=a.handleUnlikeUpdate.bind(D()(a)),a}return O()(n,[{key:"handleSubmit",value:function(e){var t=this.state.selectedProfileIds,n=this.props,a=n.employerId,r=n.tldId,o=n.profileId;return this.setState({updateToEdit:null}),e.id?this.props.editUpdate(e,a,r,o):this.props.addUpdate(e,a,r,o,t)}},{key:"handleCancel",value:function(){var e=this.state.updateToEdit;e&&(this.setState({updateToEdit:null}),this.props.editUpdateClick(e,!1))}},{key:"handleUpdatePin",value:function(e,t){var n=this.props.employerId;this.props.updatePin(e,t,n)}},{key:"handleEditUpdate",value:function(e){var t=this.props.updates.filter((function(t){return t.id===e}))[0];this.setState({updateToEdit:t}),this.props.editUpdateClick(t,!0)}},{key:"handleDeleteUpdate",value:function(e){var t=this.props.employerId;this.props.deleteUpdate(e,t)}},{key:"handleProfileChange",value:function(e){this.setState({selectedProfileIds:e})}},{key:"handleLikeUpdate",value:function(e){this.props.likeUpdate(e,this.props.employerId)}},{key:"handleUnlikeUpdate",value:function(e){this.props.unlikeUpdate(e,this.props.employerId)}},{key:"render",value:function(){var e=this.props.layout,t=vt(vt(vt({},this.props),this.state),{},{handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,handleProfileChange:this.handleProfileChange,handleUpdatePin:this.handleUpdatePin,handleEditUpdate:this.handleEditUpdate,handleDeleteUpdate:this.handleDeleteUpdate,handleLikeUpdate:this.handleLikeUpdate,handleUnlikeUpdate:this.handleUnlikeUpdate});return i.a.createElement("div",{className:"companyUpdates"},"empCtr"===e?i.a.createElement(ct,t):"pcRedesign"===e?i.a.createElement(ut,t):i.a.createElement(it,t))}}]),n}(i.a.Component);Et.defaultProps={showLogo:!0,showStats:!1,showLikeStats:!1,allowToPost:!1,showDeleted:!1,allowVideoPosts:!1,layout:"infosite"},Et.propTypes={showLogo:A.a.bool,showStats:A.a.bool,showLikeStats:A.a.bool,allowToPost:A.a.bool,showDeleted:A.a.bool,allowVideoPosts:A.a.bool,layout:A.a.func.string,isPaidUser:A.a.bool.isRequired,tldId:A.a.number.isRequired,salesPhoneNum:A.a.number.isRequired,profileId:A.a.number.isRequired,errors:A.a.array.isRequired,sameLanguageProfiles:A.a.array.isRequired,config:A.a.object.isRequired,userInfo:A.a.object.isRequired,updates:A.a.array.isRequired,logoUrl:A.a.string.isRequired,upsellButtonCTA:A.a.string.isRequired,employerId:A.a.number.isRequired,addUpdate:A.a.func.isRequired,updatePin:A.a.func.isRequired,editUpdate:A.a.func.isRequired,deleteUpdate:A.a.func.isRequired,editUpdateClick:A.a.func.isRequired,requestQuote:A.a.func.isRequired,enableLikes:A.a.bool.isRequired,likeUpdate:A.a.func.isRequired,unlikeUpdate:A.a.func.isRequired};var kt,Ct={addUpdate:function(e,t,n,a,r){return function(o){return ht("/employers/ec/webapi/webApiCompanyUpdates.htm",e,t,n,a,o,ft,r)}},updatePin:function(e,t,n){return function(a){var r="".concat("/employers/ec/updates_edit.htm","?gdToken=").concat(fe,"&statusUpdateId=").concat(e,"&pinned=").concat(t,"&selectedEmployerId=").concat(n);return gt(r,a,function(e,t){return{type:"UPDATE_PIN",id:e,pinned:t}}(e,t))}},editUpdate:function(e,t,n,a){return function(r){var o=Object.assign({},e,{statusUpdateId:e.id});ht("/employers/ec/webapi/webApiCompanyUpdates.htm",o,t,n,a,r,mt)}},deleteUpdate:function(e,t){return function(n){var a="".concat("/employers/ec/updates_delete.htm","?gdToken=").concat(fe,"&statusUpdateId=").concat(e,"&selectedEmployerId=").concat(t);return gt(a,n,function(e){return{type:"DELETE_UPDATE",id:e}}(e))}},editUpdateClick:function(e,t){return function(n){return n(function(e,t){return{type:"EDIT_UPDATE_CLICK",id:e,editing:t}}(e.id,t))}},requestQuote:function(e){return function(t){return gt("/employers/marketoLandingAjax.htm",t,function(e){return{type:"REQUEST_QUOTE",formValues:e}}(e),{firstName:e.firstName,lastName:e.lastName,companyName:e.companyName,title:e.title,email:e.email,phoneNumber:e.phoneNumber,webServiceApiId:e.webServiceApiId,campaignName:e.campaignName},{contentType:"*/*"},"marketoLeadVO.")}},likeUpdate:function(e,t){return function(n){var a="".concat(me,"?updateId=").concat(e,"&profileId=").concat(t,"&gdToken=").concat(fe,"&like=true");return bt(a,n,function(e){return{type:"LIKE_UPDATE",id:e}}(e),function(e){return{type:"DUPLICATE_LIKE_UPDATE",id:e}}(e))}},unlikeUpdate:function(e,t){return function(n){var a="".concat(me,"?updateId=").concat(e,"&profileId=").concat(t,"&gdToken=").concat(fe,"&like=false");return bt(a,n,function(e){return{type:"UNLIKE_UPDATE",id:e}}(e))}}},Pt=Object(c.connect)((function(e){return{errors:e.errors,config:e.config,updates:e.updates}}),Ct)(Et),wt=GD.page.companyUpdates,Ut=+wt.tldId||0,Ot=+wt.profileId||0,Tt=wt.logoUrl||"",Dt=+wt.employerId||0,St=wt.showStats||!1,Rt=wt.showLikeStats||!1,Nt=wt.showEmpLogo||!1,xt=wt.allowToPost||!1,jt=wt.showDeleted||!1,It=wt.listContainerId||"",Lt=wt.allowVideoPosts||!1,At=wt.sameLanguageProfiles||[],_t=wt.paidEmployer||!1,qt=wt.salesContactNumber||0,Bt=wt.upsellButtonCTA||"",Mt={firstName:wt.firstName||"",lastName:wt.lastName||"",title:wt.title||"",email:wt.email||"",phoneNumber:wt.phoneNumber||"",employerName:wt.employerName||""},Ht=wt.enableLikes||!1,Vt=wt.layout||"infosite";if(wt.updates?kt=wt.updates:(kt=Object.keys(GD.page).reduce((function(e,t){return t.indexOf("companyUpdatesList")>=0&&e.push(GD.page[t]),e}),[])).sort((function(e,t){return e._index<t._index?-1:1})),It){var Ft={tldId:Ut,profileId:Ot,logoUrl:Tt,showLogo:Nt,showStats:St,showLikeStats:Rt,employerId:Dt,allowToPost:xt,showDeleted:jt,allowVideoPosts:Lt,sameLanguageProfiles:At,isPaidUser:_t,salesPhoneNum:qt,upsellButtonCTA:Bt,userInfo:Mt,enableLikes:Ht,layout:Vt},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.applyMiddleware)(p.a)(u.createStore)(C,e)}({updates:kt,config:{isPosting:!1,hasPosted:!1}});s.a.render(i.a.createElement(c.Provider,{store:zt},i.a.createElement(Pt,Ft)),document.getElementById(It))}}]);